<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Wine Quality Predictor</title>
    <style>
      body { font-family: Arial, sans-serif; max-width: 900px; margin: 2rem auto; padding: 0 1rem; }
      label { display:block; margin-top:0.5rem; }
      input[type="text"] { width:100%; padding:0.4rem; }
      .row { display:flex; gap:1rem; }
      .col { flex:1; }
      .card { border:1px solid #ddd; padding:1rem; border-radius:6px; margin-top:1rem; }
      .flash { padding:0.6rem; border-radius:4px; margin-top:0.6rem; }
      .danger { background:#f8d7da; color:#842029; }
      .warning { background:#fff3cd; color:#664d03; }
    </style>
  </head>
  <body>
    <h1>Wine Quality Predictor</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="flash {{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form action="{{ url_for('predict') }}" method="post">
      <div class="card">
        <h3>Enter wine features</h3>
        {% for name in feature_names %}
          <label for="{{ name }}">{{ name }}</label>
          <input type="text" name="{{ name }}" id="{{ name }}" placeholder="Enter numeric value" />
        {% endfor %}
        <div style="margin-top:1rem;">
          <button type="submit">Predict</button>
        </div>
      </div>
    </form>

    {% if result %}
      <div class="card">
        <h3>Result</h3>
        <p><strong>Prediction (quality label):</strong> {{ result.prediction }}</p>
        {% if result.probability %}
          <p><strong>Probabilities:</strong> {{ result.probability }}</p>
        {% endif %}
        <h4>Inputs</h4>
        <ul>
          {% for k, v in result.inputs.items() %}
            <li>{{ k }}: {{ v }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

  </body>
</html>
